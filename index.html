<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- PWA 必要：manifest -->
  <link rel="manifest" href="icons/site.webmanifest">
  <meta name="theme-color" content="#007BFF">

  <!-- RealFaviconGenerator 給的 Icon 標籤 -->
  <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
  <link rel="shortcut icon" href="icons/favicon.ico">
  <link rel="icon" type="image/svg+xml" href="icons/favicon.svg">
  <!-- 如有 browserconfig.xml，也一併加上： -->
  <meta name="msapplication-config" content="icons/browserconfig.xml">

  <title>血壓監測表</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <h2>每日血壓與脈搏記錄</h2>
        <!-- 注意將 action 指向你的 Google Apps Script API 網址 -->
        <form id="bpForm"
            action="https://script.google.com/macros/s/AKfycbzrFVUBw72vURX3TTmRPmDl-cq6sSHVC_U7aFxWc70_P4RgXZOuECGzkq_Pyh7Nle81Bg/exec"
            method="POST">
            <label>日期（必填）：</label>
            <input type="date" name="date" required>

            <label>收縮壓 SYS (mmHg)（必填）：</label>
            <input type="number" name="systolic" required>

            <label>舒張壓 DIA (mmHg)（必填）：</label>
            <input type="number" name="diastolic" required>

            <label>脈搏 PULSE (次/分鐘)（必填）：</label>
            <input type="number" name="pulse" required>

            <label>今日狀況（可選填）：</label>
            <textarea name="notes" placeholder="請輸入您的感受，如：壓力大、心情好等"></textarea>

            <!-- 2025-05-28先隱藏 -->
            <!-- <div class="slider-container">
                <label for="stress">緊張程度 (0-10)（必填）：</label>
                <input type="range" name="stress" min="0" max="10" step="1" value="0" required oninput="updateStress()">
                <span id="stressValue">0</span>
            </div> -->

            <label>吃藥狀況（必填）：</label>
            <div class="radio-container">
                <div class="radio-item">
                    <div>有吃</div>
                    <input type="radio" name="medication" value="有吃" required>
                </div>
                <div class="radio-item">
                    <div>沒吃</div>
                    <input type="radio" name="medication" value="沒吃" required>
                </div>
            </div>

            <input type="submit" value="送出">
            <button onclick="location.href='bp_reports.html'">查看血壓歷史紀錄</button>
        </form>
        <p id="output"></p>
    </div>

    <!-- 註冊 Service Worker -->
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./sw.js')
                .then(() => console.log('SW registered'))
                .catch(err => console.error('SW failed:', err));
        }
    </script>

    <script src="script.js"></script>
</body>

</html>